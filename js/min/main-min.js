function isScrolledIntoView(e){var t=$(window).scrollTop(),n=t+$(window).height(),a=$(e).offset().top;return a+$(e).height()/2<=n&&a>=t}function hideEmails(){var e=document.querySelectorAll("[data-mail-user][data-mail-domain]");Array.prototype.forEach.call(e,function(e){var t=e.dataset.mailUser,n=e.dataset.mailDomain,a=t+"@"+n;e.getAttribute("href")&&e.setAttribute("href","mailto:"+a)})}!function($){$.fn.mobileNavigation=function(e){e=$.extend({},{navSelector:".site--navigation",menuButtonSelector:".site--navigation-btn",menuOpenClass:"menu-open",menuButtonActiveClass:"active"},e);var t=!1,n=$(e.navSelector),a=$(e.menuButtonSelector),o=function(){n.slideUp(500),n.removeClass(e.menuOpenClass),a.removeClass(e.menuButtonActiveClass),t=!1};return function(){a.bind("touchstart, click",function(a){a.stopPropagation(),a.preventDefault(),t?o():(n.slideDown(),n.addClass(e.menuOpenClass),$(this).addClass(e.menuButtonActiveClass),t=!0)})}(),$(window).resize(function(){a.is(":visible")?n.find("li").bind("click",function(){o()}):(n.removeAttr("style"),n.removeClass("menu-open"),a.removeClass("active"),n.find("li").unbind("click"))}),this}}(jQuery),function($){$.fn.offCanvas=function(e){e=$.extend({},{canvasSelector:".off--canvas",canvasButtonSelector:".off--canvas-trigger",canvasCloseButtonSelector:".off--canvas-closer",canvasOpenClass:"canvas-open",canvasButtonActiveClass:"active"},e);var t=!1,n=$(e.canvasSelector),a=$(e.canvasButtonSelector),o=$(e.canvasCloseButtonSelector),s=function(){n.removeClass("content-loaded"),n.removeClass(e.canvasOpenClass),a.removeClass(e.canvasButtonActiveClass),$("body").removeClass(e.canvasOpenClass),t=!1,setTimeout(function(){n.find(".project").remove()},1e3)},i=function(){o.on("touchstart, click",function(e){e.stopPropagation(),e.preventDefault(),t&&s(),t=!1})};return function(){a.bind("touchstart, click",function(a){a.stopPropagation(),a.preventDefault(),t?s():(n.addClass(e.canvasOpenClass),$(this).addClass(e.canvasButtonActiveClass),$("body").addClass(e.canvasOpenClass),t=!0)})}(),i(),this}}(jQuery),jQuery(document).ready(function($){$(".site--hero-background").parallaxify({positionProperty:"transform",motionType:"natural",responsive:!0}),hideEmails(),$("nav.site--navigation").mobileNavigation(),$("div.off--canvas").offCanvas(),$(window).on("scroll touchmove",function(){$(".site-header").toggleClass("scrolled",$(document).scrollTop()>100),$(".project").each(function(){isScrolledIntoView($(this))&&$(this).addClass("in-viewport")})}).scroll(),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=$(this.hash);t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top-50},500,function(){}))}}),$("a[data-project]").each(function(){$(this).on("click",function(e){var t=$(this).attr("data-project");e.preventDefault(),$.ajax({url:this.href,success:function(e){$("#occ").html(e),window.console.log(t+" was loaded successfully."),$(".off--canvas-trigger").click(),setTimeout(function(){$(".off--canvas").addClass("content-loaded")},1e3)},error:function(){window.console.log("There was an error loading "+t+".")}})})}),$(window).trigger("resize, scroll")});